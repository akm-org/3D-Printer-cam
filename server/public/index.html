<!DOCTYPE html>
<html>
<head>
  <title>ESP32-CAM Live</title>
  <style>
    body { background:#000; margin:0; display:flex; justify-content:center; 
           align-items:center; height:100vh; color:white; flex-direction:column; }
    img { width:100%; max-width:900px; border:3px solid #444; }
    #status { margin-top:10px; font-size:18px; }
  </style>
</head>

<body>
  <img id="video" src="latest.jpg">
  <div id="status">Waiting for camera‚Ä¶</div>

  <script>
    function refreshFrame() {
      document.getElementById("video").src = "latest.jpg?t=" + Date.now();
    }

    function checkStatus() {
      fetch("latest.jpg", { method: "HEAD" })
        .then(res => {
          if (res.ok) document.getElementById("status").textContent = "üì° LIVE";
          else document.getElementById("status").textContent = "‚è≥ No Signal";
        })
        .catch(() => {
          document.getElementById("status").textContent = "‚ùå Error";
        });
    }

    setInterval(refreshFrame, 120); // ‚âà8 FPS
    setInterval(checkStatus, 1500);
  </script>
</body>
</html>
